#!/usr/bin/env bash
alias mip="curl -4 ifconfig.co 2>/dev/null"
alias mips="curl -6 ifconfig.co 2>/dev/null"
alias mipa="curl -4 ifconfig.co 2>/dev/null; curl -6 ifconfig.co 2>/dev/null"
alias cpd="cp -axrfT"
alias cpa="cp -axvuf"
alias dropcache="sync;sudo sysctl -w vm.drop_caches=3"
alias ls='ls --color'
alias sudo='sudo -E'
alias vim='nvim'
alias v='nvim'
alias vz='nvim $(fzf)'
alias vs='nvim -S'
alias visudo='sudo EDITOR=nvim visudo'
alias vipw='sudo EDITOR=nvim vipw'
alias vigr='sudo EDITOR=nvim vigr'
alias viw='nvim -m'
alias view='nvim -m'
alias rmlog='sudo journalctl --vacuum-time=2weeks'
alias clearlog='sudo rm -rf /var/log/journal/*'
alias cls='clear'
alias sspd='systemctl suspend && lock'
alias ssha='ssh -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o LogLevel=ERROR'
alias caup='update-desktop-database ~/.local/share/applications && update-mime-database ~/.local/share/mime/ && echo Done'
alias webcam='mpv tv:// --tv-driver=v4l2 --tv-device=/dev/video0'
alias winetricks='sh winetricks'
alias speedtest='speedtest --bytes'
alias gpg='gpg --keyserver hkps.pool.sks-keyservers.net'
alias rangimg='while true; do pkill w3mimgdisplay; sleep 5;done'
alias screen="screen -q"
alias diff="diff --color=always"
alias restartpulse='pulseaudio -k && sleep 2 && pulseaudio --start'
alias gpuswitch='sudo gpuswitch'
alias kbedit='vim ~/bin/Software/qmk_firmware/keyboards/planck/keymaps/alkeryn/'
alias kbmake='pushd ~/bin/Software/qmk_firmware ; sudo make planck:alkeryn:dfu ; popd'
alias dl="youtube-dl"
alias weather="curl wttr.in/~Mulhouse"
alias anonradio="mpv http://anonradio.net:8000/anonradio"
alias mct="\sudo machinectl"
alias shell="\sudo machinectl shell"
alias s="\sudo machinectl shell"
alias nspawn="\sudo systemd-nspawn --bind-ro=/tmp/.X11-unix -E TERM=xterm-256color -E DISPLAY=$DISPLAY"
alias zz="7z"
alias rax="rax2"
alias op="xdg-open"
alias mvmkv='mv */*.{mkv,mp4,avi} ./'
alias incognito='unset HISTFILE'
alias :q="exit"
# alias msfconsole="msfconsole --quiet -x \"db_connect ${USER}@msf\""

unalias rm

case $(grep "^ID=" /etc/os-release | cut -d"=" -f2) in
    nixos)
	alias symld="sudo mkdir /lib64;sudo ln -sf $(file -L /usr/bin/env | cut -d"," -f5 | cut -d" " -f3) /lib64/ld-linux-x86-64.so.2"
	alias up="sudo nixos-rebuild switch --upgrade"
	alias nix-shell="nix-shell --run zsh"
	alias nix-env="nix-env -f '<nixpkgs>'"
	alias nenv="nix-env"
	;;
    arch)
	alias up='sudo pacman -Syu --noconfirm'
	alias up2='yay -Syu --noconfirm --noeditmenu --pgpfetch --sudoloop'
	;;
    debian | ubuntu )
	alias up='sudo su -c "apt update; apt upgrade;apt full-upgrade"'
	;;
esac
